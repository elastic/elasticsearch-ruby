<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>8.0 Release notes | Elasticsearch Ruby Client | Elastic</title>
<meta class="elastic" name="content" content="8.0 Release notes | Elasticsearch Ruby Client">

<link rel="home" href="index.html" title="Elasticsearch Ruby Client"/>
<link rel="up" href="release_notes.html" title="Release Notes"/>
<link rel="prev" href="release_notes_81.html" title="8.1 Release notes"/>
<link rel="next" href="release_notes_717.html" title="7.17 Release notes"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Ruby Client</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release_notes.html">Release Notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release_notes_81.html">« 8.1 Release notes</a>
</span>
<span class="next">
<a href="release_notes_717.html">7.17 Release notes »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release_notes_80"></a>8.0 Release notes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="release_notes_801"></a>8.0.1 Release notes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes an issue with the generated API code. When updating the code generator for 8.x, the order of <code class="literal">arguments.clone</code> in the generated code was changed. This would make it so that we would modify the parameters passed in before cloning them, which is undesired. Issue: <a href="https://github.com/elastic/elasticsearch-ruby/issues/1727" class="ulink" target="_top">#1727</a>.
</li>
</ul>
</div>
<h3><a id="release_notes_800"></a>8.0.0 Release notes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h3>
<p>First release for the 8.x branch with a few major changes.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Tested versions of Ruby for 8.0.0: Ruby (MRI) 2.6, 2.7, 3.0 and 3.1, JRuby 9.3.
</li>
</ul>
</div>
<h4><a id="_client_7"></a>Client<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h4>
<p>The code for the dependency <code class="literal">elasticsearch-transport</code> has been promoted to <a href="https://github.com/elastic/elastic-transport-ruby" class="ulink" target="_top">its own repository</a> and the project and gem have been renamed to <a href="https://rubygems.org/gems/elastic-transport" class="ulink" target="_top"><code class="literal">elastic-transport</code></a>. This gem now powers <a href="https://rubygems.org/gems/elasticsearch" class="ulink" target="_top"><code class="literal">elasticsearch</code></a> and <a href="https://rubygems.org/gems/elastic-enterprise-search" class="ulink" target="_top"><code class="literal">elastic-enterprise-search</code></a>. The <code class="literal">elasticsearch-transport</code> gem won&#8217;t be maintained after the last release in the <code class="literal">7.x</code> branch, in favour of <code class="literal">elastic-transport</code>.</p>
<p>This will allow us to better address maintainance in both clients and the library itself.</p>
<h4><a id="_api_15"></a>API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h4>
<p>The <code class="literal">elasticsearch-api</code> library has been generated based on the Elasticsearch 8.0.0 REST specification.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_x_pack_deprecation"></a>X-Pack Deprecation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h3>
</div></div></div>
<p>X-Pack has been deprecated. The <code class="literal">elasticsearch-xpack</code> gem will no longer be maintained after the last release in the <code class="literal">7.x</code> branch. The "X-Pack" integration library codebase was merged into <code class="literal">elasticsearch-api</code>. All the functionality is available from <code class="literal">elasticsearch-api</code>. The <code class="literal">xpack</code> namespace was removed for accessing any APIs other than <code class="literal">_xpack</code> (<code class="literal">client.xpack.info</code>) and <code class="literal">_xpack/usage</code> (<code class="literal">client.xpack.usage</code>). But APIs which were previously available through the <code class="literal">xpack</code> namespace e.g.: <code class="literal">client.xpack.machine_learning</code> are now only available directly: <code class="literal">client.machine_learning</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_parameter_checking_was_removed"></a>Parameter checking was removed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h3>
</div></div></div>
<p>The code in <code class="literal">elasticsearch-api</code> will no longer validate all the parameters sent. It will only validate the required parameters such as those needed to build the path for the request. But other API parameters are going to be validated by Elasticsearch. This provides better forwards and backwards compatibility in the client.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_response_object"></a>Response object<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/master/docs/release_notes/80.asciidoc">edit</a></h3>
</div></div></div>
<p>In previous versions of the client, calling an API endpoint would return the JSON body of the response. With <code class="literal">8.0</code>, we are returning a new Response object <code class="literal">Elasticsearch::API::Response</code>. It still behaves like a Hash to maintain backwards compatibility, but adds the <code class="literal">status</code> and <code class="literal">headers</code> methods from the <code class="literal">Elastic::Transport:Transport::Response</code> object:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">elastic_ruby(main)&gt; response = client.info
=&gt; #&lt;Elasticsearch::API::Response:0x000055752b0c50a8
 @response=
  #&lt;Elastic::Transport::Transport::Response:0x000055752b0c50f8
   @body=
    {"name"=&gt;"instance",
     "cluster_name"=&gt;"elasticsearch-8-0-0-SNAPSHOT-rest-test",
     "cluster_uuid"=&gt;"oIfRARuYRGuVYybjxQJ87w",
     "version"=&gt;
      {"number"=&gt;"8.0.0-SNAPSHOT",
       "build_flavor"=&gt;"default",
       "build_type"=&gt;"docker",
       "build_hash"=&gt;"7e23c54eb31cc101d1a4811b9ab9c4fd33ed6a8d",
       "build_date"=&gt;"2021-11-04T00:21:32.464485627Z",
       "build_snapshot"=&gt;true,
       "lucene_version"=&gt;"9.0.0",
       "minimum_wire_compatibility_version"=&gt;"7.16.0",
       "minimum_index_compatibility_version"=&gt;"7.0.0"},
     "tagline"=&gt;"You Know, for Search"},
   @headers={"X-elastic-product"=&gt;"Elasticsearch", "content-type"=&gt;"application/json", "content-length"=&gt;"567"},
   @status=200&gt;&gt;
elastic_ruby(main)&gt; response.status
=&gt; 200
elastic_ruby(main)&gt; response.headers
=&gt; {"X-elastic-product"=&gt;"Elasticsearch", "content-type"=&gt;"application/json", "content-length"=&gt;"567"}
elastic_ruby(main)&gt; response['name']
=&gt; "instance"
elastic_ruby(main)&gt; response['tagline']
=&gt; "You Know, for Search"</pre>
</div>
<p>Please <a href="https://github.com/elastic/elasticsearch-ruby/issues" class="ulink" target="_top">let us know if you find any issues</a>.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release_notes_81.html">« 8.1 Release notes</a>
</span>
<span class="next">
<a href="release_notes_717.html">7.17 Release notes »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
