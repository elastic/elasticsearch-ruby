#!/usr/bin/env ruby

$LOAD_PATH.unshift(File.expand_path('../../elasticsearch/lib', __dir__))
$LOAD_PATH.unshift(File.expand_path('../../elasticsearch-transport/lib', __dir__))
$LOAD_PATH.unshift(File.expand_path('../../elasticsearch-dsl/lib', __dir__))
$LOAD_PATH.unshift(File.expand_path('../../elasticsearch-api/lib', __dir__))

require 'elasticsearch'
require 'elasticsearch-transport'
require 'elasticsearch-api'

begin
  require 'elasticsearch-dsl'
rescue LoadError
  warn 'elasticsearch-dsl gem not loaded. Please install it explicitly.'
end

include Elasticsearch

begin
  require 'pry'
rescue LoadError
end

begin
  require 'irb'
rescue LoadError
end

if defined?(Pry)
  Pry.config.prompt_name = 'elastic'
  Pry.start
elsif defined?(IRB)
  IRB.start
else
  abort 'LoadError: elastic_console requires Pry or IRB'
end
